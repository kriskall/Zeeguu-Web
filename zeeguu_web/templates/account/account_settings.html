{% extends "layout_whatsnext.html" %}

{% macro render_field(field) %}
    <dt style="margin-right: 10px; float:left;">{{ field.label }}
    <dd>{{ field(**kwargs)|safe }}
    </dd>
    <div style="clear:both;height:10px;"></div>
{% endmacro %}

{% macro render_language(field) %}
    <tr>
        <td>
            <span style="text-align: right; margin-right: 10px; float:left; width: 100px;">{{ field.label }} </span>
        </td>

        <td>
        {{ field(**kwargs)|safe }}
        {% if field.errors %}
            <ul class=errors>
                {% for error in field.errors %}
                    <li>{{ error }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        </td>
    </tr>
    <div style="clear:both;height:10px;"></div>

{% endmacro %}


{% set active_page = "my_account" %}

{% block body %}

    <div class="col-sm-6 col-md-offset-4">

        <form method=post>

            <h1>Account Settings</h1>
            <small>

                {{ render_field(form.name) }}
                {{ render_field(form.email) }}
                {{ render_field(form.native_language) }}
                {{ render_field(form.learned_language) }}

            </small>


            <h1>Language Levels</h1>

            {% if not at_least_one_cefr_level %}
                <div class="col-sm-8" style="background-color: yellow; font-size: small;">
                    Please select a level for your learned languages.<br/>
                </div>
                <div style="clear:both;height:10px;"></div>
            {% endif %}

            <small>
                {{ render_language(form.da_cefr_level) }}
                {{ render_language(form.de_cefr_level) }}
                {{ render_language(form.en_cefr_level) }}
                {{ render_language(form.es_cefr_level) }}
                {{ render_language(form.fr_cefr_level) }}
                {{ render_language(form.it_cefr_level) }}
                {{ render_language(form.nl_cefr_level) }}
                {{ render_language(form.pl_cefr_level) }}
                {{ render_language(form.pt_cefr_level) }}
                {{ render_language(form.ro_cefr_level) }}
                {{ render_language(form.cn_cefr_level) }}

            </small>

            <input type=submit value=Save>

        </form>


    </div>



{% endblock %}
